# 页面 UI/UX 说明文档：活动发布页面

## 页面名称

活动发布页面 (Create Activity Page)

## 页面描述

此页面允许认证用户发布新的线下活动。用户需要填写活动的详细信息，包括标题、时间、地点、描述等。页面的设计应引导用户顺畅地完成信息填写，并清晰展示必填项。

## 页面元素

*   **页面标题:** “发布新活动”
*   **表单区域:**
    *   **活动标题输入框 (TextField):**
        *   标签/提示文本：“活动标题”
        *   必填项标记
        *   输入验证提示 (例如，标题不能为空)
    *   **活动日期选择器 (GestureDetector 或 Button + DatePicker):**
        *   标签/提示文本：“活动日期”
        *   显示已选日期
        *   点击后弹出日期选择器
        *   必填项标记
    *   **活动时间选择器 (GestureDetector 或 Button + TimePicker):**
        *   标签/提示文本：“活动时间”
        *   显示已选时间
        *   点击后弹出时间选择器
        *   必填项标记
    *   **活动地点输入框 (TextField 或 Button + Map Picker):**
        *   标签/提示文本：“活动地点”
        *   输入详细地址或通过地图选择（MVP 阶段可能仅为文本输入）
        *   必填项标记
    *   **活动描述输入框 (TextField):**
        *   标签/提示文本：“活动描述”
        *   多行文本输入
        *   可选，提供丰富文本编辑功能（未来考虑）
    *   **活动类型选择 (DropdownButton 或 Radio Buttons):**
        *   标签/提示文本：“活动类型”
        *   提供预设的活动类型列表供选择
        *   必填项标记
    *   **活动图片上传 (Placeholder 或 Button):**
        *   标签/提示文本：“添加活动图片 (可选)”
        *   占位符区域或点击上传按钮
        *   支持单张或多张图片上传（未来考虑）
        *   图片预览功能
*   **底部操作区域:**
    *   **发布按钮 (ElevatedButton):**
        *   按钮文本：“发布活动”
        *   按钮状态：正常、禁用 (必填项未填写)、加载中。

## 布局和结构

页面采用垂直滚动的布局，以适应不同数量的输入字段和屏幕尺寸。顶部是页面标题，下方是表单区域，各个输入字段和选择器垂直排列，每个元素都有清晰的标签。图片上传区域可以放在描述下方。发布按钮位于页面底部，通常吸附在屏幕底部或在滚动的最下方。

*   使用 `SingleChildScrollView` 包裹表单，防止键盘弹出时内容溢出。
*   表单元素之间使用适当的垂直间距。
*   使用容器或卡片组织相关联的表单字段。

## 交互说明

*   **输入框交互:**
    *   用户点击输入框时，弹出相应的键盘。
    *   输入框应有清晰的占位符文本。
    *   输入时进行格式校验（如适用）。
*   **日期/时间选择器交互:**
    *   点击日期/时间选择器区域，弹出系统原生的日期/时间选择器。
    *   用户选择日期/时间后，更新页面上显示的值。
*   **图片上传交互:**
    *   点击图片上传区域，调用系统相册或相机。
    *   上传过程中显示进度。
    *   上传成功后显示图片缩略图，并提供删除选项。
*   **表单验证:** 在用户输入时或尝试发布时，对必填项进行验证，并显示提示信息。
*   **发布按钮状态:** 只有所有必填项都填写完整且通过验证后，发布按钮才变为可点击状态。
*   **提交表单:**
    *   点击发布按钮后，按钮状态变为“发布中”，显示加载指示器，阻止重复提交。
    *   获取所有表单输入的值。
    *   调用后端逻辑（向 Firestore 写入数据）。
*   **发布成功:** 成功发布后，页面可能跳转到活动详情页，或显示成功提示并返回主页。
*   **发布失败:** 失败后，显示错误提示信息。

## 视觉风格

*   遵循整体应用的色彩系统和字体层级。
*   表单元素设计简洁明了。
*   必填项应有明显的标记（如星号）。
*   日期/时间选择器区域的设计应直观，表明其可点击性。
*   图片上传区域可以使用带有虚线边框的设计。
*   发布按钮突出显示，符合 Material Design 3 规范。

## 状态变化

*   **初始状态:** 所有输入框为空，必填项未填写，发布按钮禁用。
*   **输入中:** 输入框显示用户输入的内容。
*   **必填项未完成:** 发布按钮禁用，可能显示提示。
*   **输入错误:** 输入框下方显示错误提示文本，输入框边框可能变红。
*   **图片上传中:** 图片上传区域显示加载指示器。
*   **信息完整待发布:** 发布按钮变为可点击状态。
*   **发布中:** 发布按钮显示加载指示器，页面可能显示全屏加载蒙层。
*   **发布成功:** 显示成功提示，页面跳转。
*   **发布失败:** 显示错误提示信息。

## 响应式设计

*   页面布局应能够适应不同尺寸的移动设备，确保所有输入字段和按钮可见且易于操作。
*   输入框和按钮宽度应根据屏幕宽度进行调整。
*   在平板或横屏模式下，布局可以进行优化，例如采用两列布局，以更好地利用屏幕空间。
*   确保在不同屏幕方向下都能正常显示和交互。
*   `SingleChildScrollView` 确保在内容超出屏幕时可以滚动。